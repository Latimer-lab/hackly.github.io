(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const k={apiKey:"AIzaSyAhqF7t5-3pKVf5a3O8xR60OokawSRuiK0",authDomain:"hackly-mvp.firebaseapp.com",projectId:"hackly-mvp",storageBucket:"hackly-mvp.firebasestorage.app",messagingSenderId:"827934530206",appId:"1:827934530206:web:74e3b56884475c871bf98f",measurementId:"G-J140SVTKRV"};firebase.initializeApp(k);const b=firebase.firestore();let g="createdAt",u="desc",w="",r=1;const L=10;document.addEventListener("DOMContentLoaded",()=>{f(),document.getElementById("create_tab_button"),document.getElementById("idea_form");const c=document.getElementById("submit_idea_desktop"),i=document.getElementById("submit_idea_mobile");c&&c.addEventListener("click",()=>{const e=document.getElementById("title_desktop").value.trim();e&&createNewIdea(e,!1)}),i&&i.addEventListener("click",()=>{const e=document.getElementById("title_mobile").value.trim();e&&createNewIdea(e,!0)});const a=document.querySelectorAll(".sort_by_date"),l=document.querySelectorAll(".sort_by_rank"),t=document.querySelectorAll(".search_input");a.forEach(e=>{e.addEventListener("click",()=>{g==="createdAt"?u=u==="desc"?"asc":"desc":(g="createdAt",u="desc"),h(a),f()})}),l.forEach(e=>{e.addEventListener("click",()=>{g==="views"?u=u==="desc"?"asc":"desc":(g="views",u="desc"),h(l),f()})}),t.forEach(e=>{e.addEventListener("input",s=>{w=s.target.value.toLowerCase(),r=1,f()})});const n=document.getElementById("prev_page"),d=document.getElementById("next_page");n&&n.addEventListener("click",()=>{r>1&&(r--,f())}),d&&d.addEventListener("click",()=>{r++,f()});const m=document.querySelectorAll(".tab_link"),y=document.querySelectorAll(".tab_content");m.forEach(e=>{e.addEventListener("click",()=>{m.forEach(s=>s.classList.remove("active")),y.forEach(s=>s.classList.remove("active")),e.classList.add("active"),document.getElementById(e.dataset.tab).classList.add("active")})});const p=document.getElementById("doc_modal"),v=document.getElementById("close_doc_modal"),o=document.getElementById("doc_iframe");window.openDocModal=async function(e,s){if(!s){alert("Document is still being processed. Please try again in a few moments.");return}const _=document.getElementById("doc_iframe"),E=document.getElementById("doc_modal");_.src=s,E.style.display="block",document.body.classList.add("no-scroll"),await b.collection("documents").doc(e).update({views:firebase.firestore.FieldValue.increment(1)})},v.addEventListener("click",e=>{e.preventDefault(),p.style.display="none",o.src="",document.body.classList.remove("no-scroll")}),window.addEventListener("click",e=>{e.target===p&&(p.style.display="none",o.src="",document.body.classList.remove("no-scroll"))})});function h(c){c.forEach(i=>{const a=i.querySelector(".sort_icon");a&&(a.textContent=u==="desc"?"arrow_downward":"arrow_upward")})}async function f(){console.log("Loading ideas...");let c=document.querySelector(".idea_list_item"),i=document.getElementById("ideas_count"),a=document.getElementById("current_page"),l=document.getElementById("prev_page"),t=document.getElementById("next_page");if(!c||!i){console.error("Elements not found in DOM.");return}c.innerHTML="<li>Loading ideas...</li>",i.innerText="Loading ideas...";try{const n=await b.collection("documents").get();let d=[];n.forEach(o=>{const e=o.data();(w===""||e.title.toLowerCase().includes(w))&&d.push({id:o.id,...e})}),d.sort((o,e)=>{var _,E;let s=0;if(g==="createdAt"){const I=((_=o.createdAt)==null?void 0:_.seconds)||0,B=((E=e.createdAt)==null?void 0:E.seconds)||0;s=I-B}else g==="views"&&(s=(o.views||0)-(e.views||0));return u==="desc"?-s:s});const m=Math.ceil(d.length/L);r>m&&(r=m||1);const y=(r-1)*L,p=y+L,v=d.slice(y,p);if(a&&(a.textContent=r),l&&(l.disabled=r===1),t&&(t.disabled=r>=m),i.innerText=`Total Ideas: ${d.length}`,c.innerHTML="",v.length===0){c.innerHTML="<li>No ideas found.</li>";return}v.forEach(o=>{const e=document.createElement("li");e.innerHTML=`
                <a href="#" class="idea_container" onclick="openDocModal('${o.id}', '${o.googleDocWebViewUrl||""}')">
                    <div class="idea_date" id="idea_date">${o.createdAt?new Date(o.createdAt.seconds*1e3).toLocaleDateString("fr-FR",{year:"2-digit",month:"2-digit",day:"2-digit"}).replace(/\//g,"-"):"Unknown"}</div>
                    <div class="responsive_info">
                        <div class="idea_date" id="responsive_idea_date">${o.createdAt?new Date(o.createdAt.seconds*1e3).toLocaleDateString("fr-FR",{year:"2-digit",month:"2-digit",day:"2-digit"}).replace(/\//g,"-"):"Unknown"}</div>
                        <div class="idea_views" id="responsive_idea_views"><span class="material-icons">ads_click</span>  ${o.views||0}</div>
                    </div>
                    <div class="idea_name">${o.title}</div>
                    <div class="idea_views" id="idea_views"><span class="material-icons">ads_click</span>  ${o.views||0}</div>
                </a>
            `,c.appendChild(e)})}catch(n){console.error("Error loading ideas:",n),i.innerText="Error loading ideas",c.innerHTML="<li>Error loading ideas.</li>"}}
//# sourceMappingURL=index-CyhgV2ri.js.map
